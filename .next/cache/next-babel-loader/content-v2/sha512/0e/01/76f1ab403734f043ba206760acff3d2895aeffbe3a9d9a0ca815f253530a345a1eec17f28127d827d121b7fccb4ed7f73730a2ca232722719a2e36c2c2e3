{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\n\nfunction Update(_ref) {\n  var user = _ref.user;\n\n  var _useState = useState(user.phone_number),\n      phoneInp = _useState[0],\n      setPhoneInp = _useState[1];\n\n  var _useState2 = useState(user.first_name),\n      fnameInp = _useState2[0],\n      setFnameInp = _useState2[1];\n\n  var _useState3 = useState(user.last_name),\n      lnameInp = _useState3[0],\n      setLnameInp = _useState3[1];\n\n  var router = useRouter();\n\n  function submit(e) {\n    e.preventDefault();\n    axios.put(\"/api/account/\".concat(user.id, \"/edit/\"), {\n      first_name: fnameInp,\n      last_name: lnameInp,\n      phone_number: phoneInp[0] === \"+\" ? phoneInp : \"+\".concat(phoneInp),\n      username: user.username === \"\" ? fnameInp : user.username,\n      course: user.course\n    }).then(function () {\n      router.push(\"/admin/tables/\".concat(user.course));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"form\", {\n    onSubmit: submit,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"relative w-full rounded bg-white\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"rounded h-full p-12 flex flex-col max-w-580-px mx-auto py-12\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-8 text-2xl font-bold\",\n          children: \"Update User\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          className: \"rounded border-gray-300 p-2 mb-8\",\n          value: fnameInp,\n          type: \"text\",\n          placeholder: \"First name\",\n          onChange: function onChange(e) {\n            setFnameInp(e.target.value);\n          }\n        }), /*#__PURE__*/_jsx(\"input\", {\n          className: \"rounded border-gray-300 p-2 mb-8\",\n          value: lnameInp,\n          type: \"text\",\n          placeholder: \"Last name\",\n          onChange: function onChange(e) {\n            setLnameInp(e.target.value);\n          }\n        }), /*#__PURE__*/_jsx(PhoneInput, {\n          inputStyle: {\n            padding: \"20px 0 20px 48px\"\n          },\n          className: \"mb-8\",\n          country: \"uz\",\n          value: phoneInp,\n          onChange: function onChange(value) {\n            return setPhoneInp(value);\n          }\n        }), /*#__PURE__*/_jsx(\"input\", {\n          className: \"px-6 py-2 rounded bg-lightBlue-600 text-sm text-white cursor-pointer\",\n          type: \"submit\",\n          value: \"Submit\"\n        })]\n      })\n    })\n  });\n}\n\nexport default Update;","map":null,"metadata":{},"sourceType":"module"}