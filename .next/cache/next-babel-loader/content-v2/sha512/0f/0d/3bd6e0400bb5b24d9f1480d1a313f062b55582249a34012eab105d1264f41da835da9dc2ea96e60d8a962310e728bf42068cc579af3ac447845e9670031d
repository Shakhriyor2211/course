{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Shakhriyor_M\\\\Desktop\\\\course\\\\frontend\\\\components\\\\Dropdowns\\\\UserDropdown.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useSetUser, useUser } from \"components/auth\";\nimport router from \"next/router\";\nimport { useState } from \"react\";\n\nconst UserDropdown = () => {\n  _s();\n\n  const {\n    0: dropdownPopoverShow,\n    1: setDropdownPopoverShow\n  } = useState(false);\n  const user = useUser();\n  const setUser = useSetUser();\n\n  const openDropdownPopover = () => {\n    setDropdownPopoverShow(true);\n  };\n\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [dropdownPopoverShow && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-40\",\n      onClick: closeDropdownPopover\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-blueGray-500 select-none block cursor-pointer\",\n        onClick: e => {\n          e.preventDefault();\n          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"items-center flex\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-12 h-12 text-sm text-white bg-purple-500 inline-flex items-center justify-center rounded-full\",\n            children: `${user === null || user === void 0 ? void 0 : user.first_name[0]}${user === null || user === void 0 ? void 0 : user.last_name[0]}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-white text-base absolute right-0 z-50 m-4 py-2  text-left rounded shadow-lg min-w-48 ${dropdownPopoverShow ? \"block \" : \"hidden\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",\n          children: (user === null || user === void 0 ? void 0 : user.first_name) + \" \" + (user === null || user === void 0 ? void 0 : user.last_name)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",\n          children: [\"@\", user === null || user === void 0 ? void 0 : user.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-0 my-1 border border-solid border-blueGray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm cursor-pointer inline-block py-2 px-4 font-semibold w-full whitespace-nowrap bg-transparent text-red-600\",\n          onClick: () => {\n            axios.post(\"/api/logout/\", {\n              username: user.username\n            }).then(function (response) {\n              var _router$query$next;\n\n              setUser(null);\n              router.replace((_router$query$next = router.query.next) !== null && _router$query$next !== void 0 ? _router$query$next : \"/\");\n            }).catch(function (error) {\n              console.log(error);\n            });\n          },\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UserDropdown, \"71EDtqlE06kJ5k8sS06BI60umA0=\", false, function () {\n  return [useUser, useSetUser];\n});\n\n_c = UserDropdown;\nexport default UserDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDropdown\");","map":{"version":3,"sources":["C:/Users/Shakhriyor_M/Desktop/course/frontend/components/Dropdowns/UserDropdown.js"],"names":["axios","useSetUser","useUser","router","useState","UserDropdown","dropdownPopoverShow","setDropdownPopoverShow","user","setUser","openDropdownPopover","closeDropdownPopover","e","preventDefault","first_name","last_name","username","post","then","response","replace","query","next","catch","error","console","log"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useSetUser, useUser } from \"components/auth\";\r\nimport router from \"next/router\";\r\nimport { useState } from \"react\";\r\n\r\nconst UserDropdown = () => {\r\n  const [dropdownPopoverShow, setDropdownPopoverShow] = useState(false);\r\n  const user = useUser();\r\n  const setUser = useSetUser();\r\n  const openDropdownPopover = () => {\r\n    setDropdownPopoverShow(true);\r\n  };\r\n  const closeDropdownPopover = () => {\r\n    setDropdownPopoverShow(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {dropdownPopoverShow && (\r\n        <div\r\n          className=\"fixed inset-0 z-40\"\r\n          onClick={closeDropdownPopover}\r\n        ></div>\r\n      )}\r\n      <div className=\"relative\">\r\n        <div\r\n          className=\"text-blueGray-500 select-none block cursor-pointer\"\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            dropdownPopoverShow\r\n              ? closeDropdownPopover()\r\n              : openDropdownPopover();\r\n          }}\r\n        >\r\n          <div className=\"items-center flex\">\r\n            <span className=\"w-12 h-12 text-sm text-white bg-purple-500 inline-flex items-center justify-center rounded-full\">\r\n              {`${user?.first_name[0]}${user?.last_name[0]}`}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={`bg-white text-base absolute right-0 z-50 m-4 py-2  text-left rounded shadow-lg min-w-48 ${\r\n            dropdownPopoverShow ? \"block \" : \"hidden\"\r\n          }`}\r\n        >\r\n          <span className=\"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\">\r\n            {user?.first_name + \" \" + user?.last_name}\r\n          </span>\r\n\r\n          <span className=\"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\">\r\n            @{user?.username}\r\n          </span>\r\n\r\n          <div className=\"h-0 my-1 border border-solid border-blueGray-100\" />\r\n          <span\r\n            className=\"text-sm cursor-pointer inline-block py-2 px-4 font-semibold w-full whitespace-nowrap bg-transparent text-red-600\"\r\n            onClick={() => {\r\n              axios\r\n                .post(\"/api/logout/\", {\r\n                  username: user.username,\r\n                })\r\n                .then(function (response) {\r\n                  setUser(null);\r\n                  router.replace(router.query.next ?? \"/\");\r\n                })\r\n                .catch(function (error) {\r\n                  console.log(error);\r\n                });\r\n            }}\r\n          >\r\n            Log out\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserDropdown;\r\n"]},"metadata":{},"sourceType":"module"}