{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from \"axios\";\nimport { useSetUser, useUser } from \"components/auth\";\nimport router from \"next/router\";\nimport { useState } from \"react\";\n\nvar UserDropdown = function UserDropdown() {\n  var _useState = useState(false),\n      dropdownPopoverShow = _useState[0],\n      setDropdownPopoverShow = _useState[1];\n\n  var user = useUser();\n  var setUser = useSetUser();\n\n  var openDropdownPopover = function openDropdownPopover() {\n    setDropdownPopoverShow(true);\n  };\n\n  var closeDropdownPopover = function closeDropdownPopover() {\n    setDropdownPopoverShow(false);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [dropdownPopoverShow && /*#__PURE__*/_jsx(\"div\", {\n      className: \"fixed inset-0 z-40\",\n      onClick: closeDropdownPopover\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"text-blueGray-500 select-none block cursor-pointer\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"items-center flex\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            className: \"w-12 h-12 text-sm text-white bg-purple-500 inline-flex items-center justify-center rounded-full\",\n            children: \"\".concat(user === null || user === void 0 ? void 0 : user.first_name[0]).concat(user === null || user === void 0 ? void 0 : user.last_name[0])\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bg-white text-base absolute right-0 z-50 m-4 py-2  text-left rounded shadow-lg min-w-48 \".concat(dropdownPopoverShow ? \"block \" : \"hidden\"),\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          className: \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",\n          children: (user === null || user === void 0 ? void 0 : user.first_name) + \" \" + (user === null || user === void 0 ? void 0 : user.last_name)\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          className: \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",\n          children: [\"@\", user === null || user === void 0 ? void 0 : user.username]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"h-0 my-1 border border-solid border-blueGray-100\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"text-sm cursor-pointer inline-block py-2 px-4 font-semibold w-full whitespace-nowrap bg-transparent text-red-600\",\n          onClick: function onClick() {\n            axios.post(\"/api/logout/\", {\n              username: user.username\n            }).then(function (response) {\n              var _router$query$next;\n\n              setUser(null);\n              router.replace((_router$query$next = router.query.next) !== null && _router$query$next !== void 0 ? _router$query$next : \"/\");\n            }).catch(function (error) {\n              console.log(error);\n            });\n          },\n          children: \"Log out\"\n        })]\n      })]\n    })]\n  });\n};\n\nexport default UserDropdown;","map":null,"metadata":{},"sourceType":"module"}