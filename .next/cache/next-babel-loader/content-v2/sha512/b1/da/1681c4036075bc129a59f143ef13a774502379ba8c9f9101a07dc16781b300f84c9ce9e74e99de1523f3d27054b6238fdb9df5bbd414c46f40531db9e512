{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from \"axios\";\nimport router from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nexport default function CourseChange(_ref) {\n  var modalState = _ref.modalState,\n      users = _ref.users,\n      id = _ref.id;\n\n  var _useState = useState(null),\n      courseData = _useState[0],\n      setCourseData = _useState[1];\n\n  var _useState2 = useState(null),\n      course = _useState2[0],\n      setCourse = _useState2[1];\n\n  useEffect(function () {\n    axios.get(\"/api/swapping/account/\".concat(id)).then(function (response) {\n      setCourseData(response.data);\n      var newCourse = [];\n      response.data.forEach(function (el) {\n        newCourse.push({\n          value: el.id,\n          label: el.name\n        });\n      });\n      setCourseData(newCourse);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [id]);\n\n  function submit() {\n    axios.put(\"/api/swapping/account/\".concat(id), {\n      username: users.username === null ? \"\" : users.username,\n      first_name: users.first_name,\n      last_name: users.last_name,\n      phone_number: users.phone_number,\n      course: course.value\n    });\n    modalState(false);\n    router.reload();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"fixed inset-0 flex items-center justify-center\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"fixed inset-0 z-100\",\n      onClick: function onClick() {\n        modalState(false);\n      }\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: submit,\n      className: \"bg-white relative z-110 rounded shadow-lg border p-12\",\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        className: \"text-xl mb-8 text-center\",\n        children: \"Guruh almashtirish\"\n      }), /*#__PURE__*/_jsx(Select, {\n        className: \"my-8 text-left w-60\",\n        onChange: setCourse,\n        options: courseData,\n        instanceId: true\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-end\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          className: \"cursor-pointer bg-lightBlue-500 text-white rounded px-4 py-2\",\n          type: \"submit\",\n          value: \"Qabul qilish\",\n          onClick: submit\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"ml-3 cursor-pointer bg-red-600 text-white rounded px-4 py-2\",\n          onClick: function onClick() {\n            modalState(false);\n          },\n          children: \"Bekor qilish\"\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}