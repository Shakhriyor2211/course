{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport { useSetUser, useUser } from \"../components/auth\";\n\nfunction Login() {\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var router = useRouter();\n  var setUser = useSetUser();\n  var user = useUser();\n\n  var _useState2 = useState(\"\"),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  if (user) {\n    var _router$query$next;\n\n    router.push((_router$query$next = router.query.next) !== null && _router$query$next !== void 0 ? _router$query$next : \"/\");\n  }\n\n  function submit(e) {\n    e.preventDefault();\n    axios.post(\"/api/login/\", {\n      username: e.target.username.value,\n      password: e.target.password.value\n    }).then(function (response) {\n      var _router$query$next2;\n\n      setUser(response.data);\n      router.push((_router$query$next2 = router.query.next) !== null && _router$query$next2 !== void 0 ? _router$query$next2 : \"/\");\n    }).catch(function (err) {\n      setError(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"h-screen max-w-7xl mx-auto\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"px-6 h-full text-gray-800\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between items-center h-full\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"w-64\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\",\n            className: \"w-full object-cover\",\n            alt: \"Sample image\"\n          })\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          className: \"w-72\",\n          onSubmit: submit,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"text-3xl mb-8 font-semibold uppercase\",\n            children: \"sun'iy idrok\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\",\n              placeholder: \"Username\",\n              name: \"username\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"password\",\n              className: \"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\",\n              placeholder: \"Password\",\n              name: \"password\",\n              autoComplete: \"on\"\n            })\n          }), error && /*#__PURE__*/_jsx(\"span\", {\n            className: \"text-red-600\",\n            children: error.response.status === 400 ? \"Incorrect username or password\" : \"Bad network connection\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"text-center mt-12 lg:text-left\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"submit\",\n              className: \"inline-block px-7 py-3 bg-lightBlue-600 text-white font-medium text-sm uppercase rounded cursor-pointer\",\n              value: \"kirish\"\n            })\n          })]\n        })]\n      })\n    })\n  });\n}\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}